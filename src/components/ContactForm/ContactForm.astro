---
import Button from "@/components/starwind/button/Button.astro";
---

<section
  id="contact"
  class="w-full bg-gray-50 py-12 sm:py-20 lg:py-24 xl:py-28"
>
  <div class="max-w-7xl 2xl:max-w-[86rem] mx-auto px-4 sm:px-6 lg:px-8">
    <div class="max-w-4xl mx-auto">
      <!-- Section Header -->
      <div class="text-center mb-12">
        <div class="relative w-full flex justify-center">
          <div class="relative w-fit">
            <p class="text-2xl leading-tight mb-4 font-bold text-center">
              Get in Touch
              <span class="h-[2px] w-full bg-stratus-blue block mt-2"></span>
            </p>
          </div>
        </div>
        <h2
          class="text-3xl sm:text-4xl lg:text-5xl leading-tight mb-6 font-bold"
        >
          Ready to Transform
          <span class="block text-stratus-blue font-bold">
            Your Building?
          </span>
        </h2>
        <p class="stratus-body text-lg leading-relaxed max-w-2xl mx-auto">
          Get a customized cleaning solution for your residential building. Tell
          us about your property and we'll provide a tailored quote.
        </p>
      </div>

      <!-- Success Message (Hidden by default) -->
      <div
        id="success-message"
        class="bg-emerald-50 border border-emerald-200 rounded-2xl shadow-xl p-8 lg:p-12 text-center hidden"
      >
        <div class="flex justify-center mb-6">
          <div
            class="w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center"
          >
            <svg
              class="w-8 h-8 text-emerald-600"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                fill-rule="evenodd"
                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                clip-rule="evenodd"></path>
            </svg>
          </div>
        </div>
        <h3 class="text-2xl font-bold text-slate-gray mb-4">Thank You!</h3>
        <p class="text-lg text-slate-gray mb-6">
          Your request has been successfully submitted. We've received your
          building information and will get back to you within 24 hours with a
          customized cleaning solution.
        </p>
        <p class="text-sm text-slate-gray/80 mb-6">
          A confirmation email has been sent to your email address.
        </p>
        <button
          id="submit-another"
          class="inline-flex items-center px-6 py-3 bg-stratus-blue text-white font-semibold rounded-lg hover:bg-stratus-blue/90 transition-colors duration-200"
        >
          Submit Another Request
        </button>
      </div>

      <!-- Contact Form -->
      <div
        id="contact-form"
        class="bg-white rounded-2xl shadow-xl border border-silver-gray/20 p-8 lg:p-12"
      >
        <form
          id="contact-form-element"
          class="space-y-6"
          action="#"
          method="POST"
        >
          <!-- Personal Information -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Name Field -->
            <div>
              <label
                for="name"
                class="block text-sm font-semibold text-slate-gray mb-2"
              >
                Your Name <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                id="name"
                name="name"
                required
                class="w-full px-4 py-3 bg-white border border-silver-gray rounded-lg focus:ring-2 focus:ring-stratus-blue focus:border-stratus-blue transition-colors duration-200 text-slate-gray placeholder-silver-gray"
                placeholder="Enter your full name"
              />
            </div>

            <!-- Email Field -->
            <div>
              <label
                for="email"
                class="block text-sm font-semibold text-slate-gray mb-2"
              >
                Email Address <span class="text-red-500">*</span>
              </label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full px-4 py-3 bg-white border border-silver-gray rounded-lg focus:ring-2 focus:ring-stratus-blue focus:border-stratus-blue transition-colors duration-200 text-slate-gray placeholder-silver-gray"
                placeholder="Enter your email address"
              />
            </div>
          </div>

          <!-- Building Information -->
          <div class="space-y-6">
            <h3
              class="text-xl font-semibold text-slate-gray border-b border-silver-gray/30 pb-2"
            >
              Building Information
            </h3>

            <!-- Building Name -->
            <div>
              <label
                for="building-name"
                class="block text-sm font-semibold text-slate-gray mb-2"
              >
                Building Name <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                id="building-name"
                name="building-name"
                required
                class="w-full px-4 py-3 bg-white border border-silver-gray rounded-lg focus:ring-2 focus:ring-stratus-blue focus:border-stratus-blue transition-colors duration-200 text-slate-gray placeholder-silver-gray"
                placeholder="Enter building name or address"
              />
            </div>

            <!-- Floors, Units, and Parkade -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <!-- Number of Floors -->
              <div>
                <label
                  for="floors"
                  class="block text-sm font-semibold text-slate-gray mb-2"
                >
                  Number of Floors <span class="text-red-500">*</span>
                </label>
                <input
                  type="number"
                  id="floors"
                  name="floors"
                  required
                  min="1"
                  class="w-full px-4 py-3 bg-white border border-silver-gray rounded-lg focus:ring-2 focus:ring-stratus-blue focus:border-stratus-blue transition-colors duration-200 text-slate-gray placeholder-silver-gray"
                  placeholder="Enter number of floors"
                />
              </div>

              <!-- Number of Units -->
              <div>
                <label
                  for="units"
                  class="block text-sm font-semibold text-slate-gray mb-2"
                >
                  Number of Units <span class="text-red-500">*</span>
                </label>
                <input
                  type="number"
                  id="units"
                  name="units"
                  required
                  min="1"
                  class="w-full px-4 py-3 bg-white border border-silver-gray rounded-lg focus:ring-2 focus:ring-stratus-blue focus:border-stratus-blue transition-colors duration-200 text-slate-gray placeholder-silver-gray"
                  placeholder="Enter number of units"
                />
              </div>

              <!-- Parkade Levels -->
              <div>
                <label
                  for="parkade-levels"
                  class="block text-sm font-semibold text-slate-gray mb-2"
                >
                  Parkade Levels
                </label>
                <input
                  type="number"
                  id="parkade-levels"
                  name="parkade-levels"
                  min="0"
                  class="w-full px-4 py-3 bg-white border border-silver-gray rounded-lg focus:ring-2 focus:ring-stratus-blue focus:border-stratus-blue transition-colors duration-200 text-slate-gray placeholder-silver-gray"
                  placeholder="Enter number of parkade levels"
                />
              </div>
            </div>

            <!-- Amenities -->
            <div>
              <label class="block text-sm font-semibold text-slate-gray mb-3">
                Building Amenities <span class="text-gray-400"
                  >(Select all that apply)</span
                >
              </label>
              <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
                <label class="flex items-center space-x-3 cursor-pointer">
                  <input
                    type="checkbox"
                    name="amenities"
                    value="lobby"
                    class="w-4 h-4 text-stratus-blue border-silver-gray rounded focus:ring-stratus-blue focus:ring-2"
                  />
                  <span class="text-slate-gray">Lobby/Reception</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer">
                  <input
                    type="checkbox"
                    name="amenities"
                    value="gym"
                    class="w-4 h-4 text-stratus-blue border-silver-gray rounded focus:ring-stratus-blue focus:ring-2"
                  />
                  <span class="text-slate-gray">Fitness Center/Gym</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer">
                  <input
                    type="checkbox"
                    name="amenities"
                    value="pool"
                    class="w-4 h-4 text-stratus-blue border-silver-gray rounded focus:ring-stratus-blue focus:ring-2"
                  />
                  <span class="text-slate-gray">Swimming Pool</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer">
                  <input
                    type="checkbox"
                    name="amenities"
                    value="lounge"
                    class="w-4 h-4 text-stratus-blue border-silver-gray rounded focus:ring-stratus-blue focus:ring-2"
                  />
                  <span class="text-slate-gray">Community Lounge</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer">
                  <input
                    type="checkbox"
                    name="amenities"
                    value="rooftop"
                    class="w-4 h-4 text-stratus-blue border-silver-gray rounded focus:ring-stratus-blue focus:ring-2"
                  />
                  <span class="text-slate-gray">Rooftop Terrace</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer">
                  <input
                    type="checkbox"
                    name="amenities"
                    value="parking"
                    class="w-4 h-4 text-stratus-blue border-silver-gray rounded focus:ring-stratus-blue focus:ring-2"
                  />
                  <span class="text-slate-gray">Parking Garage</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer">
                  <input
                    type="checkbox"
                    name="amenities"
                    value="laundry"
                    class="w-4 h-4 text-stratus-blue border-silver-gray rounded focus:ring-stratus-blue focus:ring-2"
                  />
                  <span class="text-slate-gray">Laundry Facilities</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer">
                  <input
                    type="checkbox"
                    name="amenities"
                    value="mailroom"
                    class="w-4 h-4 text-stratus-blue border-silver-gray rounded focus:ring-stratus-blue focus:ring-2"
                  />
                  <span class="text-slate-gray">Mailroom</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer">
                  <input
                    type="checkbox"
                    name="amenities"
                    value="other"
                    class="w-4 h-4 text-stratus-blue border-silver-gray rounded focus:ring-stratus-blue focus:ring-2"
                  />
                  <span class="text-slate-gray">Other</span>
                </label>
              </div>
            </div>

            <!-- Additional Information -->
            <div>
              <label
                for="message"
                class="block text-sm font-semibold text-slate-gray mb-2"
              >
                Additional Information
              </label>
              <textarea
                id="message"
                name="message"
                rows="4"
                class="w-full px-4 py-3 bg-white border border-silver-gray rounded-lg focus:ring-2 focus:ring-stratus-blue focus:border-stratus-blue transition-colors duration-200 text-slate-gray placeholder-silver-gray resize-vertical"
                placeholder="Tell us about any specific cleaning requirements, current challenges, or questions you have..."
              ></textarea>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="flex flex-col sm:flex-row gap-4 pt-6">
            <Button
              type="submit"
              variant="primary"
              size="lg"
              class="flex-1 sm:flex-initial px-8 py-4 text-lg font-semibold stratus-cta"
            >
              Get Your Free Quote
            </Button>
            <div class="text-sm text-slate-gray/80 flex items-center">
              <svg
                class="w-4 h-4 mr-2 text-emerald-green"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                  clip-rule="evenodd"></path>
              </svg>
              We'll respond within 24 hours
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

<style>
  /* Custom styles for better form appearance */
  input[type="text"],
  input[type="email"],
  input[type="number"],
  select,
  textarea {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
  }

  select {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
  }

  /* Checkbox styling */
  input[type="checkbox"] {
    accent-color: #3c91e6;
  }

  /* Focus styles */
  input:focus,
  select:focus,
  textarea:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(60, 145, 230, 0.1);
  }

  /* Form validation styles */
  input:invalid:not(:placeholder-shown),
  select:invalid:not(:placeholder-shown) {
    border-color: #ef4444;
  }

  input:valid,
  select:valid {
    border-color: #3c91e6;
  }

  /* Enhanced focus and hover styles for better blue theme consistency */
  input:hover:not(:focus),
  select:hover:not(:focus),
  textarea:hover:not(:focus) {
    border-color: rgba(60, 145, 230, 0.3);
  }

  /* Checkbox enhanced styling */
  input[type="checkbox"]:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(60, 145, 230, 0.2);
  }

  input[type="checkbox"]:hover {
    transform: scale(1.05);
    transition: transform 0.1s ease;
  }

  /* Success message animation */
  #success-message {
    animation: fadeIn 0.5s ease-in-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById(
      "contact-form-element"
    ) as HTMLFormElement;
    const contactFormDiv = document.getElementById("contact-form");
    const successMessage = document.getElementById("success-message");
    const submitAnotherBtn = document.getElementById("submit-another");

    // Handle form submission
    if (form && contactFormDiv && successMessage) {
      form.addEventListener("submit", function (e) {
        e.preventDefault(); // Prevent default form submission

        // Simulate form submission (replace with actual form handling)
        setTimeout(() => {
          // Hide the form and show success message
          contactFormDiv.classList.add("hidden");
          successMessage.classList.remove("hidden");

          // Scroll to success message
          successMessage.scrollIntoView({
            behavior: "smooth",
            block: "center",
          });
        }, 500); // Simulate processing time
      });
    }

    // Handle "Submit Another Request" button
    if (submitAnotherBtn && form && contactFormDiv && successMessage) {
      submitAnotherBtn.addEventListener("click", function () {
        // Reset form
        form.reset();

        // Hide success message and show form again
        successMessage.classList.add("hidden");
        contactFormDiv.classList.remove("hidden");

        // Scroll back to form
        contactFormDiv.scrollIntoView({
          behavior: "smooth",
          block: "start",
        });
      });
    }
  });
</script>
