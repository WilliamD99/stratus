---
import Button from "@/components/starwind/button/Button.astro";
import MobileNav from "@/components/Nav/MobileNav/MobileNav.astro";
// import NavDropdown from "@components/Nav/NavDropdown/NavDropdown.astro";
import NavLink from "@/components/Nav/NavLink.astro";
import SiteLogo from "@/components/SiteLogo/SiteLogo.astro";
import navData from "@/config/navData.json";

interface Props {
  rest?: any; // catch-all for any additional parameters, such as "aria-label"
}
---

<div
  id="nav__container"
  class="fixed top-0 left-0 py-1 z-30 flex w-full flex-col navbar--scrolled transition-all duration-300"
>
  <div class="mx-auto container flex w-full">
    <div class="site-container flex h-16 w-full items-center">
      <header class="flex w-full items-center gap-2">
        <!-- home button / image -->
        <div class="flex flex-auto justify-start">
          <SiteLogo />
        </div>

        <!-- desktop nav menu -->
        <div class="flex flex-auto justify-end">
          <nav class="hidden md:block">
            <ul class="flex h-fit items-center px-4">
              {navData.map((navItem) => <NavLink navItem={navItem} />)}
            </ul>
          </nav>
          <Button
            variant="primary"
            class="my-auto hidden md:block stratus-cta"
            href="#contact"
          >
            Free Estimate
          </Button>

          <!-- mobile nav menu, only load on small screens where it is visible -->
          <div class="md:hidden">
            <MobileNav />
          </div>
        </div>
      </header>
    </div>
  </div>
</div>

<style>
  @import "tailwindcss/theme" theme(reference);
  @import "@/styles/tailwind-theme.css" theme(reference);

  .navbar--scrolled {
    background-color: rgba(46, 58, 70, 0.95);
    backdrop-filter: blur(16px);
    border-bottom: 1px solid rgba(189, 195, 199, 0.3);
  }
</style>
